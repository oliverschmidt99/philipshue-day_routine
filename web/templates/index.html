<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <title>Hue Controller</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/settings.css') }}">

    <script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>

<body>
    <div id="setup-wizard" class="hidden">
        {% include 'setup_wizard.html' %}
    </div>

    <div id="main-app" class="hidden">
        <header>
            <nav>
                <ul>
                    <li><a href="#" class="active" data-tab="routines"><img
                                src="{{ url_for('static', filename='assets/icons/icon_home.svg') }}" alt="">
                            <span>Routinen</span></a></li>
                    <li><a href="#" data-tab="scenes"><img
                                src="{{ url_for('static', filename='assets/icons/icon_layers.svg') }}" alt="">
                            <span>Szenen</span></a></li>
                    <li><a href="#" data-tab="status"><img
                                src="{{ url_for('static', filename='assets/icons/icon_status.svg') }}" alt="">
                            <span>Status</span></a></li>
                    <li><a href="#" data-tab="analyse"><img
                                src="{{ url_for('static', filename='assets/icons/icon_analyse.svg') }}" alt="">
                            <span>Analyse</span></a></li>
                    <li><a href="#" data-tab="bridge-devices"><img
                                src="{{ url_for('static', filename='assets/icons/icon_devices.svg') }}" alt="">
                            <span>Ger√§te</span></a></li>
                    <li><a href="#" data-tab="hilfe"><img
                                src="{{ url_for('static', filename='assets/icons/icon_help.svg') }}" alt="">
                            <span>Hilfe</span></a></li>
                    <li><a href="#" data-tab="einstellungen"><img
                                src="{{ url_for('static', filename='assets/icons/icon_settings.svg') }}" alt="">
                            <span>Einstellungen</span></a></li>
                </ul>
                <div class="nav-right">
                    <div id="sun-times"></div>
                    <div id="clock"></div>
                </div>
            </nav>
        </header>

        <main class="container">
            <div id="content-routines" class="content-section">
                <div class="card">
                    <div class="card-header">
                        <h2>Routinen</h2>
                        <button type="button" id="btn-new-routine" class="button">+ Neue Routine</button>
                    </div>
                    <div id="routines-container" class="card-content"></div>
                </div>
            </div>

            <div id="content-scenes" class="content-section hidden">
                <div class="card">
                    <div class="card-header">
                        <h2>Szenen</h2>
                        <button type="button" id="btn-new-scene" class="button secondary">+ Neue Szene</button>
                    </div>
                    <div id="scenes-container" class="card-content"></div>
                </div>
            </div>

            <div id="content-status" class="content-section hidden">
                <div class="card">
                    <div class="card-header">
                        <h2>Live-Zustand</h2>
                        <button type="button" id="btn-refresh-status" class="button secondary">Aktualisieren</button>
                    </div>
                    <div id="status-container" class="card-content"></div>
                </div>
                <div class="card">
                    <h2>Log-Datei</h2>
                    <pre id="log-container" class="log-box"></pre>
                </div>
            </div>

            <div id="content-analyse" class="content-section hidden">
                <!-- Content is dynamically generated by analyse.js -->
            </div>
            <div id="content-bridge-devices" class="content-section hidden">
                <!-- Content is dynamically generated by devices.js -->
            </div>
            <div id="content-hilfe" class="content-section hidden">
                <div class="card" id="help-content-container"></div>
            </div>
            <div id="content-einstellungen" class="content-section hidden">
                <div class="card">
                    <h2>Einstellungen</h2>
                    <div class="setting-item">
                        <label for="theme-toggle">Dark Mode</label>
                        <label class="switch"><input type="checkbox" id="theme-toggle" role="switch"><span
                                class="slider round"></span></label>
                    </div>
                </div>
                <div class="card">
                    <h2>System-Aktionen</h2>
                    <div class="button-group">
                        <button type="button" id="btn-update-app" class="button">App Aktualisieren</button>
                        <button type="button" id="btn-restart-app" class="button">App Neustarten</button>
                        <button type="button" id="btn-backup-config" class="button secondary">Backup</button>
                        <button type="button" id="btn-restore-config" class="button secondary">Restore</button>
                        <button type="button" id="btn-add-default-scenes" class="button secondary">Standard
                            Szenen</button>
                    </div>
                </div>
            </div>

            <div class="save-button-wrapper">
                <button type="button" id="save-button" class="button">Speichern und Alle Routinen neu starten</button>
            </div>
        </main>

        <footer>
            <p>&copy; 2025 Hue Controller</p>
        </footer>
    </div>

    <div id="demo-modal" class="modal-overlay"></div>
    <div id="toast-container"></div>

    <script src="{{ url_for('static', filename='js/theme.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>

</html>